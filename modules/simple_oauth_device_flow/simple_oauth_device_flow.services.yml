services:
  simple_oauth_device_flow.settings:
    class: Drupal\simple_oauth_device_flow\Service\DeviceFlowSettingsService
    arguments: ['@config.factory']

  simple_oauth_device_flow.device_code_repository:
    class: Drupal\simple_oauth_device_flow\Repository\DeviceCodeRepository
    arguments:
      [
        '@entity_type.manager',
        '@simple_oauth_device_flow.settings',
        '@logger.factory',
        '@simple_oauth.repositories.client',
      ]

  simple_oauth_device_flow.user_code_generator:
    class: Drupal\simple_oauth_device_flow\Service\UserCodeGenerator
    arguments:
      - '@config.factory'
      - '@simple_oauth_device_flow.device_code_repository'
      - '@logger.factory'

  simple_oauth_device_flow.device_code_service:
    class: Drupal\simple_oauth_device_flow\Service\DeviceCodeService
    arguments:
      - '@simple_oauth_device_flow.device_code_repository'
      - '@simple_oauth_device_flow.user_code_generator'
      - '@simple_oauth_device_flow.settings'
      - '@datetime.time'
      - '@logger.factory'
