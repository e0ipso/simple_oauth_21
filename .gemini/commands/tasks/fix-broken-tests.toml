[metadata]
argument-hint = "[test-command]"
description = "Fix the tests your task execution broke."

[prompt]
content = """Fix all failing tests in this repository. Think harder and use tools.\n\nExecute this command to run the tests:\n\n<test-command>\n{{plan_id}}\n</test-command>\n\nIf the test command is empty, read CLAUDE.md for test execution instructions.\n\n⚠️ **CRITICAL INTEGRITY REQUIREMENT** ⚠️\nYou MUST fix the actual bugs in the source code. Green tests are worthless if achieved through cheating.\n\n**This is CHEATING (absolutely forbidden):**\n- Skipping tests with conditionals\n- Modifying test assertions to pass\n- Adding test-environment-specific code to source\n- Disabling or commenting out tests\n- ANY workaround that doesn't fix the real bug\n\n**This is THE RIGHT WAY:**\n- Find the root cause in the source code\n- Fix the actual bug\n- Ensure tests pass because the code truly works\n\n**Process:**\n1. Run all tests to identify failures\n2. Fix EVERY failing test iteratively\n3. Verify all tests pass legitimately\n\nDO NOT STOP after fixing some tests - fix ALL of them.\n\nRemember: The entire point of tests is to ensure code robustness. If you cheat in ANY way, the tests become meaningless and I cannot trust that the code actually works.\n\nIf you get stuck and cannot fix a test properly, ask for help rather than resorting to shortcuts."""
